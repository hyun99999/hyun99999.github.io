---
title:  "iOS) ì»¤ìŠ¤í…€ ë·° Xib ì—°ê²°í•˜ê¸°"
categories:
- iOS

date:   2021-11-02  02:59:00 +0900
author_profile: false
---
ë‘ê°€ì§€ ë°©ë²•ì„ í†µí•´ì„œ ì»¤ìŠ¤í…€ ë·° í´ë˜ìŠ¤ë¥¼ Xib ì™€ ì—°ê²°í•´ì„œ ë§Œë“¤ì–´ë³´ì!

ê·¸ë¦¬ê³  ì¢€ ë” ê³ ë¯¼í•´ë³¼ ì ê¹Œì§€ ê°™ì´ ì•Œì•„ë´ìš”!

## ğŸ§™â€â™€ï¸ ë°©ë²•1 : File's Owner ì—ì„œ Custom Class ì„¤ì •

> `File's Owner` : File's Owner ê°ì²´ë¥¼ ì‚¬ìš©í•´ì„œ nib íŒŒì¼ì˜ top-level ê°ì²´ë“¤ì„ ì°¸ì¡°í•  ìˆ˜ ìˆë„ë¡ í•œë‹¤.  ìš°ë¦¬ê°€ IBAction, IBOutlet ì— í•´ë‹¹í•˜ëŠ” ê²ƒì„ ì—°ê²°í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ê²ƒì€ ì´ ì°¸ì¡°ê°€ ê°€ëŠ¥í•˜ê¸° ë•Œë¬¸ì´ë‹¤.

<img width="800" alt="1" src="https://user-images.githubusercontent.com/69136340/139717673-90e7ae31-e988-425f-bee0-a7f71af4980b.png">

í•´ë‹¹ ë·°ë¥¼ ê°€ì ¸ì˜¤ê¸° ìœ„í•´ì„œ UIView í´ë˜ìŠ¤ì—ì„œ nib í˜•íƒœë¡œ ê°€ì ¸ì™€ì•¼ í•©ë‹ˆë‹¤.

ì´ë•Œ! ë‘ê°€ì§€ ë°©ë²•ìœ¼ë¡œ ê°€ì ¸ì˜¬ ìˆ˜ ìˆì–´ìš”!

```swift
// CustomNavigationBar.siwft
// ì—­í•  : ì»¤ìŠ¤í…€ ë„¤ë¹„ê²Œì´ì…˜ ë°”

class CustomNavigationBar: UIView {
    
    override init(frame: CGRect) {
        super.init(frame: frame)
        customInit()
        //alternativeCustomInit()
    }

    required init?(coder: NSCoder) {
        super.init(coder: coder)
        customInit()
        //alternativeCustomInit()
    }
    
    //ë°©ë²• 1: loadNibNamed(_:owner:options:) ì‚¬ìš©
    func customInit() {
        if let view = Bundle.main.loadNibNamed("CustomNavigationBar", owner: self, options: nil)?.first as? UIView {
            view.frame = self.bounds
            addSubview(view)
        }
    }
    
    //ë°©ë²• 2: UINib ìƒì„± í›„ instantiate
    func alternativeCustomInit() {
        if let view = UINib(nibName: "CustomNavigationBar", bundle: nil).instantiate(withOwner: self, options: nil).first as? UIView {
            view.frame = self.bounds
            addSubview(view)
        }
    }
}
```

### ğŸ“Œ **[loadNibNamed(_:owner:options:)](https://developer.apple.com/documentation/foundation/bundle/1618147-loadnibnamed)**

receiver's bundle ì— ìœ„ì¹˜í•˜ëŠ” nib íŒŒì¼ì˜ ì»¨í…ì¸ ë¥¼ ì–¸ì•„ì¹´ì´ë¸Œ í•œë‹¤.

(Xib íŒŒì¼ì´ ì €ì¥ë˜ë©´ Xib íŒŒì¼ì„ ì•„ì¹´ì´ë¸Œí•˜ëŠ”ë° ì•„ì¹´ì´ë¸Œí•œ ë°ì´í„°ë¡œë¶€í„° ê°ì²´ë¥¼ ë‹¤ì‹œ ë§Œë“œëŠ” ê²ƒì´ ì–¸ì•„ì¹´ì´ë¸Œì´ë‹¤.)

- name  : nib íŒŒì¼ì˜ ì´ë¦„
- owner : nib ì˜ Files's Owner ê°ì²´ë¡œ í• ë‹¹í•  ê°ì²´
- options : nib íŒŒì¼ì„ ì—´ ë•Œ ì‚¬ìš©í•  ì˜µì…˜ì´ í¬í•¨ëœ dictionary.

---

### ğŸ“Œ **[init(nibName:bundle:)](https://developer.apple.com/documentation/uikit/uinib/1614138-init)**

íŠ¹ì • ë²ˆë“¤ì˜ nib íŒŒì¼ë¡œë¶€í„° nib ê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤.

- nibName : nib íŒŒì¼ì˜ ì´ë¦„.
- bundle : nil ì„¤ì •ì‹œ main bundle ì—ì„œ nib íŒŒì¼ì„ ì°¾ëŠ”ë‹¤.

### ğŸ“Œ **[instantiate(withOwner:options:)](https://developer.apple.com/documentation/uikit/uinib/1614137-instantiate)**

nib ê°ì²´ì˜ nib íŒŒì¼ì— ìˆëŠ” ë©”ëª¨ë¦¬ë‚´ ì»¨í…ì¸ ë¥¼ ì–¸ì•„ì¹´ì´ë¸Œí•˜ê³  ê³ ìœ í•œ ê°ì²´ íŠ¸ë¦¬ì™€ top-level ê°ì²´ ì§‘í•©ì„ ë§Œë“ ë‹¤. (ë¶€ëª¨ ê°ì²´ë¥¼ ê°€ì§€ì§€ ì•ŠëŠ” ê²ƒë“¤. ìœˆë„ìš°, ë©”ë‰´ ë°”, ì»¤ìŠ¤í…€ ì»¨íŠ¸ë¡¤ëŸ¬ ê°ì²´)

- withOwner : nib íŒŒì¼ì˜ owner ë¡œ ì‚¬ìš©í•  ê°ì²´.
- options : nib íŒŒì¼ì„ ì—´ ë•Œ ì‚¬ìš©í•  ì˜µì…˜ì´ í¬í•¨ëœ dictionary.

â—ï¸ **Xib ì—ì„œ ì„¤ì •í•œ Custom Class ëŠ” ì†Œìœ í•  í´ë˜ìŠ¤ì˜ íƒ€ì…ì„ ì„¤ì •í•œ ê²ƒì´ê³ **(ì´ê²ƒìœ¼ë¡œ IBAction, IBOutlet ë“± ì—°ê²°ê°€ëŠ¥.) **ìœ„ì˜ ì½”ë“œë¡œ owner ì˜ instance ë¥¼ ì„¤ì •í•œë‹¤.**

---

### ğŸ“Œ .first

<img width="250" alt="3" src="https://user-images.githubusercontent.com/69136340/139717711-217a6e6b-be16-495d-bb1f-46781d41db32.png">

ìœ„ì˜ ë©”ì„œë“œë“¤ì€ ë°˜í™˜ê°’ì´ `[Any]` ì¦‰, ë°°ì—´ì…ë‹ˆë‹¤! Xib ê°€ ìœ„ì—ì²˜ëŸ¼ ì—¬ëŸ¬ê°œì˜ View ë¥¼ ê°€ì§ˆ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ë°°ì—´ë¡œ ë¦¬í„´ì„ í•´ì£¼ì£ ! ê·¸ë˜ì„œ ìš°ë¦° ì²«ë²ˆì§¸ View ë¥¼ ê°€ì ¸ì˜¬ ê²ƒì´ê¸° ë•Œë¬¸ì— `.first` ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

(âœ¨ ì²«ë²ˆì§¸ê°€ ì•„ë‹Œ ì›í•˜ëŠ” íƒ€ì…ì˜ ê°ì²´ë¥¼ ê°€ì ¸ì˜¤ê¸° ìœ„í•´ì„œ is ì—°ì‚°ìë¡œ ì°¾ì„ ìˆ˜ ìˆë‹¤.)

### ìŠ¤í† ë¦¬ë³´ë“œì—ì„œ ì»¤ìŠ¤í…€ë·°ë¥¼ ì„¤ì •í•´ì£¼ë©´ ë!

<img width="800" alt="2" src="https://user-images.githubusercontent.com/69136340/139717795-9418a3e1-98a6-4348-9f52-77a2818ee19c.png">

â‰ï¸  ì´ˆê¸°í™” í•¨ìˆ˜ `init` ë¥¼ í˜¸ì¶œí•˜ì§€ ì•Šì•˜ëŠ”ë° ì–´ë–»ê²Œ load ëœ ê²ƒì¼ê¹Œìš”? 

ìŠ¤í† ë¦¬ë³´ë“œì—ì„œ ì»¤ìŠ¤í…€ í´ë˜ìŠ¤ë¥¼ ì„¤ì •í–ˆê¸° ë•Œë¬¸ì— nib íŒŒì¼ì„ unarchive í•˜ê³  ì»¤ìŠ¤í…€ ë·°ì˜ `init(coder: NSCoder)` ë¥¼ í˜¸ì¶œí•œë‹¤ê³  í•´ìš”! ê·¸ëŸ¬ë©´ `customInit()` ë©”ì„œë“œê°€ ì‹¤í–‰ë˜ê² ì£ ?

## ğŸ§™â€â™€ï¸ ë°©ë²•2 : View ì—ì„œ Custom Class ì„¤ì •

<img width="700" alt="4" src="https://user-images.githubusercontent.com/69136340/139717805-4d3f1378-41bb-4798-9331-2b7154fae767.png">


View ì˜ Custom Class ë¡œë§Œ ë³€ê²½í•˜ê³  ì‹¤í–‰í–ˆì„ ë•ŒëŠ” ì•±ì´ ê°‘ì‘ìŠ¤ëŸ½ê²Œ ì£½ê²Œ ë©ë‹ˆë‹¤..!

<img width="400" alt="5" src="https://user-images.githubusercontent.com/69136340/139717869-9c6da173-b197-4c3c-b04f-581d6be14767.png">

`customInit()` ê³¼ `init(coder:)` ì˜ ë°˜ë³µìœ¼ë¡œ ì•±ì´ ì£½ê²Œë˜ì—ˆëŠ”ë°ìš”. ê³¼ì •ì„ ì‚´í´ë´…ì‹œë‹¤!

1.ë·°ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ë¡œë”©ëœ í›„ ì»¤ìŠ¤í…€ ë·°ì˜ `init(coder: NSCoder)` í˜¸ì¶œ

2.ì»¤ìŠ¤í…€ë·°ì˜ `customInit()` í˜¸ì¶œ

3. `loadNibName` ìœ¼ë¡œ Xib ë¡œë“œ

4.Xib ì˜ first View ì˜ Custom Class ëŠ” ì»¤ìŠ¤í…€ë·°ë¡œ ì„¤ì •ëœ ìƒíƒœ. ì»¤ìŠ¤í…€ë·°ì˜ `init(coder: NSCoder` ì¬í˜¸ì¶œ.

5.2ë²ˆìœ¼ë¡œ ê°„ë‹¤.

ì´ë ‡ê²Œ ë¬´í•œë£¨í”„ë¥¼ ëŒë©´ì„œ ì•±ì´ ì£½ê²Œë©ë‹ˆë‹¤! ğŸ¥²

### í•´ê²°

**init ë©”ì„œë“œì—ì„œ ê°™ì€ í´ë˜ìŠ¤ì˜ Xib ë¥¼ ë¡œë“œí•˜ì§€ ë§ˆì„¸ìš”!**

ê·¸ë ‡ë‹¤ë©´ ì–´ë””ì„œ í•˜ë©´ ë ê¹Œìš”? ë¶€ëª¨í´ë˜ìŠ¤ë‚˜ ë·°ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ Xib ë¥¼ ë¡œë“œí•˜ë©´ ë©ë‹ˆë‹¤.

```swift
// ViewController.swift

@IBOutlet weak var customNavigationBar: UIView!

// ...

override func viewDidLoad() {
        super.viewDidLoad()
        // ...

        // âœ… ì´ë²ˆì—ëŠ” nib íŒŒì¼ ì´ë¦„ì„ String(describing:) ìœ¼ë¡œ ê°€ì ¸ì™€ë´¤ì–´ìš”!
        guard let loadedNib = Bundle.main.loadNibNamed(String(describing: CustomNavigationBar.self), owner: self, options: nil) else { return }
        guard let navigationBar = loadedNib.first as? CustomNavigationBar else { return }
        navigationBar.frame = CGRect(x: 0, y: 0, width: customNavigationBar.frame.width, height: customNavigationBar.frame.height)
        customNavigationBar.addSubview(navigationBar)
}
```

ì´ë ‡ê²Œ ë˜ë©´ ìŠ¤í† ë¦¬ë³´ë“œì—ì„œ ì»¤ìŠ¤í…€ë·°ë¥¼ ì„¤ì •í•´ì£¼ëŠ” ë‹¨ê³„ëŠ” ê±´ë„ˆë›°ì–´ë„ ë˜ê² ì£ ?

### ì¶œì²˜:

[[iOS - swift] nib, xib, Placeholders, Files's Owner, First Responder, Responder Chain ê°œë…](https://ios-development.tistory.com/311)

[[Swift] ì»¤ìŠ¤í…€ ë·° xib ì—°ê²°í•˜ê¸° : File's Owner vs Custom Class](https://sujinnaljin.medium.com/swift-ì»¤ìŠ¤í…€-ë·°-xib-ì—°ê²°í•˜ê¸°-files-owner-vs-custom-class-89984ef73a59)

ê³ ë¯¼í•´ë³¼ ì ì´ ìˆì–´ìš”! ë°”ë¡œ..!

## UIView ëŠ” File's Owner ê°€ ë  ìˆ˜ ì—†ë‹¤...?

ì»¤ìŠ¤í…€ë·°ë¥¼ Xib ë¡œ ë§Œë“œëŠ” ë°©ë²•ì„ ì°¾ì•„ë³´ë‹¤ê°€ ì•„ë˜ ì¶œì²˜ì˜ ê¸€ì„ ì½ì–´ë³´ê²Œ ë˜ì—ˆëŠ”ë°ìš”!

ìš”ì•½í•´ë³´ìë©´ 

- ì• í”Œê°œë°œì ë¬¸ì„œì—ì„œëŠ” File's Owner ì— ëŒ€í•œ ì„¤ëª…ìœ¼ë¡œ nib íŒŒì¼ì˜ top-level ê°ì²´ë¥¼ ì°¸ì¡°í•œë‹¤ê³  í•˜ëŠ”ë°! UIView ëŠ” top-levle ì˜ ì¡°ê±´ì„ ë§Œì¡±í•˜ì§€ ëª»í•œë‹¤!
- Xib ëŠ” ë‹¤ì–‘í•œ UIView ê°ì²´ë¥¼ ê°€ì§ˆ ìˆ˜ ìˆê²Œ ë§Œë“¤ì–´ì¡Œë‹¤. ê·¼ë° File's Owner ëŠ” í•˜ë‚˜ë§Œ ì„ ê°€ì§ˆ ìˆ˜ ìˆë‹¤. ê·¸ëŸ¬ë©´ ë‹¤ì–‘í•œ UIView ê°ì²´ë¥¼ Xib ê°€ ê°€ì§ˆ ë•Œ File's Owner ëŠ” í•œê°œì˜ UIView í´ë˜ìŠ¤ì´ë©´ì„œ ë‹¤ìˆ˜ì˜ UIView í´ë˜ìŠ¤ íƒ€ì…ì´ë¼ëŠ” ë§ì¸ê°€? ì•„ì´ë””ì–´ê°€ ëª¨ìˆœì ì´ë‹¤!

ë¼ëŠ” ë‚´ìš©ì„ ê°€ì§€ê³  ìˆëŠ”ë°ìš”! ì¶©ë¶„íˆ ì €í¬ê°€ ìƒê°í•´ë³¼ë§Œ í•œ ê²ƒ ê°™ì•„ìš”! ë” ìì„¸í•œ ë‚´ìš©ì€ ì¶œì²˜ë¥¼ ì°¸ê³ í•´ì£¼ì„¸ìš”!

**ì¶œì²˜ :**

[UIView ëŠ” File's Owner ê°€ ë  ìˆ˜ ì—†ì–´ìš”](https://dev.to/ingun37/uiview-file-s-owner-2a20)
